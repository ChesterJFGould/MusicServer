<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="main.js"></script>
</head>
<body>
  <div id='myapp'></div>
  <script>
    var app = Elm.Main.init({
      node: document.getElementById('myapp')
    });

    const player = new Audio();

    const commands = {
        play: (cmd) => { player.play(); },
        pause: (cmd) => { player.pause(); },
        setSource: (cmd) => { player.src = cmd.url; },
    };

    app.ports.audioCommand.subscribe((cmds) => {
      for (const cmd of cmds) {
        commands[cmd.command](cmd);
      }
    });
  </script>
  <style>
    body,html {
      margin: 0;
      padding: 0;
    }
  </style>
</body>
</html>
